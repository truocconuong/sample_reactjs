{"ast":null,"code":"var _jsxFileName = \"/Users/asknteach/projects/fetch/portal.fetch.tech.frontend/src/Components/Dnd/DetailCard.js\";\nimport React, { Component, useRef } from \"react\";\nimport { Button, Modal, Overlay } from \"react-bootstrap\";\nimport Select from \"react-select\";\nimport Popover from \"react-bootstrap/Popover\";\nimport ModalAddMember from \"./ModalAddMember\";\nimport { connect } from \"react-redux\";\nimport { defaultAva, domainServer } from \"../../utils/config\";\nimport { Button as ButtonPop, Popover as PopoverPop, PopoverHeader, PopoverBody } from 'reactstrap';\nimport _ from 'lodash';\nimport roleName from '../../utils/const';\nimport axios from \"axios\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport toastr from 'toastr';\nimport Network from \"../../Service/Network\";\nimport * as moment from 'moment';\nimport Validator from \"../../utils/validator\";\nimport { rulesCreateNewCard } from \"../../utils/rule\";\nconst api = new Network();\n\nclass DetailCard extends Component {\n  constructor(props) {\n    super(props);\n\n    this.toggleShowPopupAddMember = () => {\n      this.setState({\n        showPopupAddMember: !this.state.showPopupAddMember\n      });\n    };\n\n    this.toggleShow = () => {\n      this.setState({\n        show: !this.state.show\n      });\n    };\n\n    this.setTarget = target => {\n      this.setState({\n        target: target\n      });\n    };\n\n    this.handleClick = event => {\n      this.toggleShow();\n      this.setTarget(event.target);\n    };\n\n    this.handleInputChange = e => {\n      this.props.update(e);\n    };\n\n    this.removeUserCard = (card_id, user_id, index) => {\n      this.props.removeMemberToCard(card_id, user_id);\n    };\n\n    this.addMemberToCard = (card_id, user) => {\n      const data = {\n        card_id,\n        content: {\n          id: user.value,\n          email: user.label,\n          name: user.name,\n          linkAvatar: user.linkAvatar\n        }\n      };\n      this.props.addMemberToCard(data);\n    };\n\n    this.handleOnChangeJobSelected = e => {\n      this.setState({\n        jobSelected: e\n      });\n      this.props.handleOnChangeJobSelected(e);\n    };\n\n    this.toggleAddMember = () => {\n      this.setState({\n        showAddMember: !this.state.showAddMember\n      });\n    };\n\n    this.checkUserIsSelected = (users, user_id) => {\n      let isSelected = false;\n      isSelected = _.some(users, {\n        id: user_id\n      });\n      return isSelected;\n    };\n\n    this.colorRandomSelected = () => {\n      const colors = ['label label-xl label-inline label-light-dark', 'label label-xl label-inline label-light-dark', 'label label-xl label-inline label-light-success', 'label label-xl label-inline label-light-danger', 'label label-xl label-inline label-light-success'];\n      const random = Math.floor(Math.random() * colors.length);\n      return colors[random];\n    };\n\n    this.toggleMember = (selected, index, card_id, user) => {\n      if (selected) {\n        // remove member\n        this.props.removeMemberToCard(card_id, user.value);\n      } else {\n        this.addMemberToCard(card_id, user); // add member\n      }\n\n      this.toggleAddMember();\n    };\n\n    this.updatePropsLinkCv = value => {\n      const data = {\n        target: {\n          name: 'linkCv',\n          value: value\n        }\n      };\n      this.props.update(data);\n    };\n\n    this.updateCard = () => {\n      const data = this.props.data_detail.content;\n      const errors = this.validator.validate(data);\n      delete errors['laneId'];\n      this.setState({\n        errors: errors\n      });\n\n      if (this.isEmpty(errors)) {\n        this.props.updateCard();\n      }\n    };\n\n    this.state = {\n      show: false,\n      target: null,\n      isOpenDeleteUserPop: new Array(10).fill(false),\n      jobSelected: {},\n      showPopupAddMember: false,\n      updated: true,\n      showAddMember: false,\n      errors: {}\n    };\n    this.addMember = [];\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.toggleDeleteUserPop = this.toggleDeleteUserPop.bind(this);\n    this.onChangeUploadHandler = this.onChangeUploadHandler.bind(this);\n    this.validator = new Validator(rulesCreateNewCard);\n  }\n\n  toggleDeleteUserPop(index) {\n    let self = this;\n    const isShow = this.state.isOpenDeleteUserPop[index];\n    let currentIsOpenDeleteUserPop = new Array(10).fill(false);\n    this.setState({\n      isOpenDeleteUserPop: currentIsOpenDeleteUserPop\n    }, function () {\n      currentIsOpenDeleteUserPop[index] = !isShow;\n      self.setState({\n        isOpenDeleteUserPop: currentIsOpenDeleteUserPop\n      });\n    });\n  }\n\n  async onChangeUploadHandler(event) {\n    const card = this.props.data_detail.content;\n\n    if (card.name === '' || card.nameJob === '') {\n      toastr.error(\"You need to fill in all the information before uploading cv !\");\n    } else {\n      try {\n        let file_size = event.target.files[0].size; // console.log(file_size)\n\n        if (file_size > 3145728) {\n          toast.error(\"Image file size too big!\", {\n            position: toast.POSITION.BOTTOM_RIGHT\n          });\n          return false;\n        }\n\n        var formData = new FormData();\n        formData.append(\"file\", event.target.files[0]);\n        formData.append(\"nameFile\", `${card.name} ${card.nameJob}`);\n        formData.append(\"idJob\", `${card.idJob}`);\n        const request_header = api.getHeaderUpload();\n        const request_server = api.domain;\n        var self = this;\n        const config = {\n          onUploadProgress: function (progressEvent) {\n            var percentCompleted = Math.round(progressEvent.loaded * 100 / progressEvent.total);\n          }\n        };\n        config.headers = request_header.headers;\n        axios.post(request_server + \"/api/cards/upload/cv\", formData, config).then(res => {\n          if (res) {\n            const fileName = `${res.data.fileName}`;\n            this.updatePropsLinkCv(fileName);\n          } else {\n            toast.error(\"Something went wrong please try again later!\", {\n              position: toast.POSITION.BOTTOM_RIGHT\n            });\n          }\n        }).catch(err => {\n          console.log(err);\n          toast.error(\"Something went wrong please try again later!\", {\n            position: toast.POSITION.BOTTOM_RIGHT\n          });\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  }\n\n  isEmpty(obj) {\n    // check obj empty\n    return Object.keys(obj).length === 0 && obj.constructor === Object;\n  }\n\n  render() {\n    const errors = this.state.errors;\n    const users = [];\n    let usersTeam = [];\n    const data_detail = this.props.data_detail.content;\n\n    if (this.props.show) {\n      users.push(...this.props.data.content.user);\n    }\n\n    if (!_.isEmpty(this.props.users)) {\n      usersTeam.push(...this.props.users);\n    }\n\n    data_detail.approachDate = moment(data_detail.approachDate).format(\"YYYY-MM-DD\");\n    return /*#__PURE__*/React.createElement(Modal, {\n      size: \"lg\",\n      show: this.props.show,\n      onHide: this.props.onHide,\n      centered: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-detail-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"detail-header__title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 15\n      }\n    }, \"Update card\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"detail_header__sticky\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 13\n      }\n    }, this.props.role === roleName.LEADER ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dropdown dropdown-inline\",\n      \"data-toggle\": \"tooltip\",\n      title: \"Quick actions\",\n      \"data-placement\": \"left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 54\n      }\n    }, \"   \", /*#__PURE__*/React.createElement(\"a\", {\n      id: `Proveti${this.props.data.id}`,\n      className: \"btn btn-clean btn-hover-light-primary btn-sm btn-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 165\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"ki ki-bold-more-hor\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(PopoverPop, {\n      popperClassName: \"popover-modal-card\",\n      trigger: \"legacy\",\n      placement: \"right\",\n      isOpen: this.state.showAddMember,\n      target: `Proveti${this.props.data.id}`,\n      toggle: this.toggleAddMember,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(PopoverBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"navi navi-hover\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"navi-header font-weight-bold py-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"font-size-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 25\n      }\n    }, \"Toggle member to card:\"), /*#__PURE__*/React.createElement(\"i\", {\n      className: \"flaticon2-information icon-md text-muted\",\n      \"data-toggle\": \"tooltip\",\n      \"data-placement\": \"right\",\n      title: \"Click to learn more...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"navi-separator mb-3 opacity-70\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 23\n      }\n    }), usersTeam.map((user, index) => {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        key: index,\n        className: \"navi-item\",\n        onClick: () => this.toggleMember(this.checkUserIsSelected(users, user.value), index, this.props.data.id, user),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        className: \"navi-link navi-link-cus\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"navi-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: this.colorRandomSelected(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 33\n        }\n      }, user.name)), /*#__PURE__*/React.createElement(\"label\", {\n        className: \"checkbox\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        readOnly: true,\n        checked: this.checkUserIsSelected(users, user.value),\n        name: \"Checkboxes1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 33\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 33\n        }\n      }))));\n    })))), \"   \") : ''))), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-detail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body card-body-update\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 19\n      }\n    }, \"Name \"), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 19\n      }\n    }, \"*\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: data_detail.name,\n      onChange: this.handleInputChange.bind(this),\n      name: \"name\",\n      className: \"form-control\",\n      placeholder: \"Enter name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 19\n      }\n    }, \"Name job \"), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 19\n      }\n    }, \"*\"), /*#__PURE__*/React.createElement(Select, {\n      name: \"option\",\n      options: this.props.jobs,\n      value: data_detail.jobSelected,\n      onChange: this.handleOnChangeJobSelected,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 21\n      }\n    }, \"Location\"), /*#__PURE__*/React.createElement(\"input\", {\n      disabled: true,\n      value: data_detail.location,\n      type: \"text\",\n      onChange: this.handleInputChange.bind(this),\n      name: \"location\",\n      className: \"form-control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 21\n      }\n    }, \"Client Name\"), /*#__PURE__*/React.createElement(\"input\", {\n      disabled: true,\n      value: data_detail.clientName,\n      type: \"text\",\n      onChange: this.handleInputChange.bind(this),\n      name: \"clientName\",\n      className: \"form-control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 21\n      }\n    }, \"Email \"), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 21\n      }\n    }, \"*\"), /*#__PURE__*/React.createElement(\"input\", {\n      value: data_detail.email,\n      type: \"email\",\n      onChange: this.handleInputChange.bind(this),\n      name: \"email\",\n      className: \"form-control\",\n      placeholder: \"Enter email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 21\n      }\n    }, \"Phone \"), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 21\n      }\n    }, \"*\"), /*#__PURE__*/React.createElement(\"input\", {\n      value: data_detail.phone,\n      type: \"text\",\n      onChange: this.handleInputChange.bind(this),\n      name: \"phone\",\n      className: \"form-control\",\n      placeholder: \"Enter phone\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 21\n      }\n    }, \"Approach Date \"), /*#__PURE__*/React.createElement(\"input\", {\n      value: data_detail.approachDate,\n      type: \"date\",\n      onChange: this.handleInputChange.bind(this),\n      name: \"approachDate\",\n      className: \"form-control\",\n      placeholder: \"Enter approachDate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 19\n      }\n    }, \"Position \"), /*#__PURE__*/React.createElement(\"input\", {\n      value: data_detail.position,\n      type: \"text\",\n      onChange: this.handleInputChange.bind(this),\n      name: \"position\",\n      className: \"form-control\",\n      placeholder: \"Enter position\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 19\n      }\n    }, \"Link cv \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: data_detail.linkCv,\n      onChange: this.handleInputChange.bind(this),\n      name: \"linkCv\",\n      className: errors.linkCv ? \"form-control is-invalid\" : \"form-control\",\n      placeholder: \"Enter link or import cv\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"uploadCV\",\n      className: \"custom-label-upload\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-append custom-div-upload\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 77\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-cloud-upload-alt\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 112\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.onChangeUploadHandler,\n      id: \"uploadCV\",\n      type: \"file\",\n      className: \"form-control mb-2 mr-sm-2\",\n      style: {\n        display: 'none'\n      },\n      placeholder: \"Jane Doe\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 155\n      }\n    })))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"exampleTextarea\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 19\n      }\n    }, \"Approach Point \"), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: \"red\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 19\n      }\n    }, \"*\"), /*#__PURE__*/React.createElement(\"textarea\", {\n      value: data_detail.noteApproach,\n      name: \"noteApproach\",\n      onChange: this.handleInputChange,\n      className: errors.noteApproach ? \"form-control is-invalid\" : \"form-control\",\n      rows: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 19\n      }\n    })))))), /*#__PURE__*/React.createElement(Modal.Footer, {\n      bsPrefix: \"footer-modal-cus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-cus__left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"symbol-group symbol-hover\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 13\n      }\n    }, users.map((user, index) => {\n      return /*#__PURE__*/React.createElement(Overlay, {\n        key: index,\n        show: this.state.isOpenDeleteUserPop[index],\n        target: this.addMember[index],\n        placement: \"top\",\n        transition: false,\n        rootClose: true,\n        onHide: this.toggleDeleteUserPop.bind(this, index),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Popover, {\n        id: \"popover-contained\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Popover.Content, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mini-profile\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mini-profile-member member-large\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        height: \"50px\",\n        width: \"50px\",\n        src: user.linkAvatar ? `${domainServer + \"/\" + user.linkAvatar}` : `${defaultAva}`,\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 34\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mini-profile-info\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"mini-profile-info-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        className: \"mini-profile-info-title-link js-profile\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 33\n        }\n      }, user.name)), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 31\n        }\n      }, user.email))), /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"pop-over-list\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 27\n        }\n      }, this.props.role === roleName.LEADER ? /*#__PURE__*/React.createElement(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        onClick: () => this.removeUserCard(this.props.data.id, user.id, index),\n        className: \"js-remove-member\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 35\n        }\n      }, \"Remove from Card\")) : ''))));\n    }), users.map((user, index) => {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        ref: ref => this.addMember[index] = ref,\n        onClick: this.toggleDeleteUserPop.bind(this, index),\n        key: index,\n        className: \"btn btn-md btn-icon btn-light-facebook btn-pill mx-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        style: {\n          height: '100%',\n          borderRadius: '50%'\n        },\n        width: \"100%\",\n        alt: \"Pic\",\n        src: user.linkAvatar ? `${domainServer + \"/\" + user.linkAvatar}` : `${defaultAva}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 21\n        }\n      }));\n    }), this.state.showPopupAddMember ? /*#__PURE__*/React.createElement(ModalAddMember, {\n      addMemberToCard: this.addMemberToCard,\n      card_id: this.props.data.id,\n      usersTeam: users,\n      users: this.props.users,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 48\n      }\n    }) : '')), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-cus__right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 11\n      }\n    }, data_detail.interview ? /*#__PURE__*/React.createElement(Button, {\n      onClick: this.props.toggleDetailInterview,\n      variant: \"btn btn-success btn-interview\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 17\n      }\n    }, moment(data_detail.interview.timeInterview).format('dddd DD/MM/YYYY HH:mm')) : /*#__PURE__*/React.createElement(Button, {\n      variant: \"btn btn-success btn-interview\",\n      onClick: () => this.props.toggleDetailCardAndInterview(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 17\n      }\n    }, \"Create Interview\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary btn-interview\",\n      onClick: this.updateCard,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 13\n      }\n    }, \"Save\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"light\",\n      onClick: this.props.onHide,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 13\n      }\n    }, \"Close\"))));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {};\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    role: state.auth.role,\n    update: e => ownProps.update(e),\n    addMemberToCard: data => ownProps.addMemberToCard(data)\n  };\n};\n\nexport default connect(mapStateToProps)(DetailCard);","map":{"version":3,"sources":["/Users/asknteach/projects/fetch/portal.fetch.tech.frontend/src/Components/Dnd/DetailCard.js"],"names":["React","Component","useRef","Button","Modal","Overlay","Select","Popover","ModalAddMember","connect","defaultAva","domainServer","ButtonPop","PopoverPop","PopoverHeader","PopoverBody","_","roleName","axios","ToastContainer","toast","toastr","Network","moment","Validator","rulesCreateNewCard","api","DetailCard","constructor","props","toggleShowPopupAddMember","setState","showPopupAddMember","state","toggleShow","show","setTarget","target","handleClick","event","handleInputChange","e","update","removeUserCard","card_id","user_id","index","removeMemberToCard","addMemberToCard","user","data","content","id","value","email","label","name","linkAvatar","handleOnChangeJobSelected","jobSelected","toggleAddMember","showAddMember","checkUserIsSelected","users","isSelected","some","colorRandomSelected","colors","random","Math","floor","length","toggleMember","selected","updatePropsLinkCv","updateCard","data_detail","errors","validator","validate","isEmpty","isOpenDeleteUserPop","Array","fill","updated","addMember","bind","toggleDeleteUserPop","onChangeUploadHandler","self","isShow","currentIsOpenDeleteUserPop","card","nameJob","error","file_size","files","size","position","POSITION","BOTTOM_RIGHT","formData","FormData","append","idJob","request_header","getHeaderUpload","request_server","domain","config","onUploadProgress","progressEvent","percentCompleted","round","loaded","total","headers","post","then","res","fileName","catch","err","console","log","obj","Object","keys","render","usersTeam","push","approachDate","format","onHide","role","LEADER","map","color","jobs","location","clientName","phone","linkCv","display","noteApproach","ref","height","borderRadius","interview","toggleDetailInterview","timeInterview","toggleDetailCardAndInterview","mapDispatchToProps","dispatch","mapStateToProps","ownProps","auth"],"mappings":"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","sourcesContent":["import React, { Component, useRef } from \"react\";\nimport { Button, Modal, Overlay } from \"react-bootstrap\";\nimport Select from \"react-select\";\nimport Popover from \"react-bootstrap/Popover\";\nimport ModalAddMember from \"./ModalAddMember\";\nimport { connect } from \"react-redux\";\nimport { defaultAva, domainServer } from \"../../utils/config\";\nimport { Button as ButtonPop, Popover as PopoverPop, PopoverHeader, PopoverBody } from 'reactstrap';\nimport _ from 'lodash'\nimport roleName from '../../utils/const'\nimport axios from \"axios\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport toastr from 'toastr'\nimport Network from \"../../Service/Network\";\nimport * as moment from 'moment'\nimport Validator from \"../../utils/validator\";\nimport { rulesCreateNewCard } from \"../../utils/rule\";\n\nconst api = new Network();\nclass DetailCard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: false,\n      target: null,\n      isOpenDeleteUserPop: new Array(10).fill(false),\n      jobSelected: {},\n      showPopupAddMember: false,\n      updated: true,\n      showAddMember: false,\n      errors: {},\n    };\n    this.addMember = [];\n    this.handleInputChange = this.handleInputChange.bind(this)\n    this.toggleDeleteUserPop = this.toggleDeleteUserPop.bind(this)\n    this.onChangeUploadHandler = this.onChangeUploadHandler.bind(this)\n    this.validator = new Validator(rulesCreateNewCard);\n  }\n\n  toggleShowPopupAddMember = () => {\n    this.setState({\n      showPopupAddMember: !this.state.showPopupAddMember\n    })\n  }\n\n\n  toggleDeleteUserPop(index) {\n    let self = this;\n    const isShow = this.state.isOpenDeleteUserPop[index]\n    let currentIsOpenDeleteUserPop = new Array(10).fill(false);\n    this.setState({\n      isOpenDeleteUserPop: currentIsOpenDeleteUserPop,\n    }, function () {\n      currentIsOpenDeleteUserPop[index] = !isShow;\n      self.setState({\n        isOpenDeleteUserPop: currentIsOpenDeleteUserPop,\n      });\n    });\n\n  }\n\n  toggleShow = () => {\n    this.setState({\n      show: !this.state.show,\n    })\n  }\n  setTarget = (target) => {\n    this.setState({\n      target: target,\n    })\n  }\n\n  handleClick = (event) => {\n    this.toggleShow();\n    this.setTarget(event.target);\n  };\n\n\n  handleInputChange = (e) => {\n    this.props.update(e);\n  }\n\n  removeUserCard = (card_id, user_id, index) => {\n    this.props.removeMemberToCard(card_id, user_id);\n  }\n\n  addMemberToCard = (card_id, user) => {\n    const data = {\n      card_id,\n      content: {\n        id: user.value,\n        email: user.label,\n        name: user.name,\n        linkAvatar: user.linkAvatar\n      }\n    }\n    this.props.addMemberToCard(data)\n  }\n\n  handleOnChangeJobSelected = (e) => {\n    this.setState({\n      jobSelected: e\n    })\n    this.props.handleOnChangeJobSelected(e);\n  }\n\n  toggleAddMember = () => {\n    this.setState({\n      showAddMember: !this.state.showAddMember\n    })\n  }\n  checkUserIsSelected = (users, user_id) => {\n    let isSelected = false;\n    isSelected = _.some(users, { id: user_id })\n    return isSelected\n  }\n  colorRandomSelected = () => {\n    const colors = ['label label-xl label-inline label-light-dark', 'label label-xl label-inline label-light-dark', 'label label-xl label-inline label-light-success', 'label label-xl label-inline label-light-danger', 'label label-xl label-inline label-light-success'];\n    const random = Math.floor(Math.random() * colors.length);\n    return colors[random]\n  }\n\n  toggleMember = (selected, index, card_id, user) => {\n    if (selected) {\n      // remove member\n      this.props.removeMemberToCard(card_id, user.value)\n    } else {\n      this.addMemberToCard(card_id, user)\n      // add member\n    }\n    this.toggleAddMember();\n  }\n\n  async onChangeUploadHandler(event) {\n    const card = this.props.data_detail.content;\n    if (card.name === '' || card.nameJob === '') {\n      toastr.error(\"You need to fill in all the information before uploading cv !\");\n    } else {\n      try {\n        let file_size = event.target.files[0].size;\n        // console.log(file_size)\n        if (file_size > 3145728) {\n          toast.error(\"Image file size too big!\", {\n            position: toast.POSITION.BOTTOM_RIGHT,\n          });\n          return false;\n        }\n        var formData = new FormData();\n        formData.append(\"file\", event.target.files[0]);\n        formData.append(\"nameFile\", `${card.name} ${card.nameJob}`)\n        formData.append(\"idJob\", `${card.idJob}`)\n\n        const request_header = api.getHeaderUpload();\n        const request_server = api.domain;\n        var self = this;\n        const config = {\n          onUploadProgress: function (progressEvent) {\n            var percentCompleted = Math.round(\n              (progressEvent.loaded * 100) / progressEvent.total\n            );\n          },\n        };\n        config.headers = request_header.headers;\n        axios\n          .post(request_server + \"/api/cards/upload/cv\", formData, config)\n          .then((res) => {\n            if (res) {\n              const fileName = `${res.data.fileName}`;\n              this.updatePropsLinkCv(fileName);\n            } else {\n              toast.error(\"Something went wrong please try again later!\", {\n                position: toast.POSITION.BOTTOM_RIGHT,\n              });\n            }\n          })\n          .catch((err) => {\n            console.log(err);\n            toast.error(\"Something went wrong please try again later!\", {\n              position: toast.POSITION.BOTTOM_RIGHT,\n            });\n          });\n      } catch (e) {\n        console.log(e);\n      }\n    }\n  }\n\n  updatePropsLinkCv = (value) => {\n    const data = {\n      target: {\n        name: 'linkCv',\n        value: value\n      },\n    }\n    this.props.update(data)\n  }\n\n  isEmpty(obj) {\n    // check obj empty\n    return Object.keys(obj).length === 0 && obj.constructor === Object;\n  }\n\n\n  updateCard = () => {\n    const data = this.props.data_detail.content;\n    const errors = this.validator.validate(data);\n    delete errors['laneId']\n    this.setState({\n      errors: errors,\n    });\n\n    if (this.isEmpty(errors)) {\n      this.props.updateCard();\n    }\n  }\n\n  render() {\n    const errors = this.state.errors\n    const users = [];\n    let usersTeam = [];\n    const data_detail = this.props.data_detail.content;\n    if (this.props.show) {\n      users.push(...this.props.data.content.user);\n    }\n    if (!_.isEmpty(this.props.users)) {\n      usersTeam.push(...this.props.users);\n    }\n    data_detail.approachDate = moment(data_detail.approachDate).format(\"YYYY-MM-DD\");\n\n    return (\n      <Modal size=\"lg\" show={this.props.show} onHide={this.props.onHide} centered>\n        <Modal.Header closeButton>\n          <div className=\"card-detail-header\">\n            <div className=\"detail-header__title\">\n              <h4>Update card</h4>\n            </div>\n            <div className=\"detail_header__sticky\">\n              {this.props.role === roleName.LEADER ? <div className=\"dropdown dropdown-inline\" data-toggle=\"tooltip\" title=\"Quick actions\" data-placement=\"left\">   <a id={`Proveti${this.props.data.id}`} className=\"btn btn-clean btn-hover-light-primary btn-sm btn-icon\" >\n                <i className=\"ki ki-bold-more-hor\" />\n              </a>\n                <PopoverPop popperClassName=\"popover-modal-card\" trigger=\"legacy\" placement=\"right\" isOpen={this.state.showAddMember} target={`Proveti${this.props.data.id}`} toggle={this.toggleAddMember}>\n                  <PopoverBody>\n                    <ul className=\"navi navi-hover\">\n                      <li className=\"navi-header font-weight-bold py-4\">\n                        <span className=\"font-size-lg\">Toggle member to card:</span>\n                        <i className=\"flaticon2-information icon-md text-muted\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"Click to learn more...\" />\n                      </li>\n                      <li className=\"navi-separator mb-3 opacity-70\" />\n\n                      {usersTeam.map((user, index) => {\n                        return (\n                          <li key={index} className=\"navi-item\" onClick={() => this.toggleMember(this.checkUserIsSelected(users, user.value), index, this.props.data.id, user)}>\n                            <a className=\"navi-link navi-link-cus\">\n                              <span className=\"navi-text\">\n                                <span className={this.colorRandomSelected()}>{user.name}</span>\n                              </span>\n                              <label className=\"checkbox\">\n                                <input type=\"checkbox\" readOnly checked={this.checkUserIsSelected(users, user.value)} name=\"Checkboxes1\" />\n                                <span></span>\n                              </label>\n                            </a>\n                          </li>\n                        )\n                      })}\n                    </ul>\n                  </PopoverBody>\n                </PopoverPop>   </div> : ''}\n\n            </div>\n          </div>\n        </Modal.Header>\n        <Modal.Body>\n          <div className=\"card-detail\">\n            <form className=\"form\">\n              <div className=\"card-body card-body-update\">\n                <div className=\"form-group\">\n                  <label>Name </label>\n                  <span style={{ color: \"red\" }}>*</span>\n                  <input type=\"text\" value={data_detail.name} onChange={this.handleInputChange.bind(this)} name=\"name\" className=\"form-control\"\n                    placeholder=\"Enter name\" />\n                </div>\n\n                <div className=\"form-group\">\n                  <label>Name job </label>\n                  <span style={{ color: \"red\" }}>*</span>\n                  <Select\n                    name=\"option\"\n                    options={this.props.jobs}\n                    value={data_detail.jobSelected}\n                    onChange={this.handleOnChangeJobSelected}\n                  />\n                </div>\n\n                <div className=\"form-group row\">\n                  <div className=\"col-lg-6\">\n                    <label>Location</label>\n                    <input disabled value={data_detail.location} type=\"text\" onChange={this.handleInputChange.bind(this)} name=\"location\" className=\"form-control\" />\n                  </div>\n                  <div className=\"col-lg-6\">\n                    <label>Client Name</label>\n                    <input disabled value={data_detail.clientName} type=\"text\" onChange={this.handleInputChange.bind(this)} name=\"clientName\" className=\"form-control\" />\n                  </div>\n                </div>\n\n                <div className=\"form-group row\">\n                  <div className=\"col-lg-12\">\n                    <label>Email </label>\n                    <span style={{ color: \"red\" }}>*</span>\n                    <input value={data_detail.email} type=\"email\" onChange={this.handleInputChange.bind(this)} name=\"email\" className=\"form-control\"\n                      placeholder=\"Enter email\" />\n                  </div>\n                </div>\n\n                <div className=\"form-group row\">\n                  <div className=\"col-lg-6\">\n                    <label>Phone </label>\n                    <span style={{ color: \"red\" }}>*</span>\n                    <input value={data_detail.phone} type=\"text\" onChange={this.handleInputChange.bind(this)} name=\"phone\" className=\"form-control\" placeholder=\"Enter phone\" />\n                  </div>\n                  <div className=\"col-lg-6\">\n                    <label>Approach Date </label>\n                    <input value={data_detail.approachDate} type=\"date\" onChange={this.handleInputChange.bind(this)} name=\"approachDate\" className=\"form-control\"\n                      placeholder=\"Enter approachDate\" />\n                  </div>\n                </div>\n\n                <div className=\"form-group\">\n                  <label>Position </label>\n                  <input value={data_detail.position} type=\"text\" onChange={this.handleInputChange.bind(this)} name=\"position\" className=\"form-control\"\n                    placeholder=\"Enter position\" />\n                </div>\n\n                <div className=\"form-group\">\n                  <label>Link cv </label>\n                  <div className=\"input-group\">\n                    <input type=\"text\" value={data_detail.linkCv} onChange={this.handleInputChange.bind(this)} name=\"linkCv\" className={\n                      errors.linkCv\n                        ? \"form-control is-invalid\"\n                        : \"form-control\"\n                    } placeholder=\"Enter link or import cv\" />\n                    <label htmlFor=\"uploadCV\" className=\"custom-label-upload\">\n                      <div className=\"input-group-append custom-div-upload\"><span className=\"input-group-text\"><i className=\"fas fa-cloud-upload-alt\"></i><input onChange={this.onChangeUploadHandler} id=\"uploadCV\" type=\"file\" className=\"form-control mb-2 mr-sm-2\" style={{ display: 'none' }} placeholder=\"Jane Doe\" /></span></div>\n                    </label>\n                  </div>\n                </div>\n\n\n                <div className=\"form-group\">\n                  <label htmlFor=\"exampleTextarea\">Approach Point </label>\n                  <span style={{ color: \"red\" }}>*</span>\n                  <textarea value={data_detail.noteApproach} name=\"noteApproach\" onChange={this.handleInputChange} className={\n                    errors.noteApproach\n                      ? \"form-control is-invalid\"\n                      : \"form-control\"\n                  } rows={3} />\n                </div>\n\n              </div>\n            </form>\n          </div>\n        </Modal.Body>\n        <Modal.Footer bsPrefix=\"footer-modal-cus\">\n          <div className=\"modal-cus__left\">\n            <div className=\"symbol-group symbol-hover\">\n              {\n                users.map((user, index) => {\n                  return (\n                    <Overlay\n                      key={index}\n                      show={\n                        this.state.isOpenDeleteUserPop[index]\n                      }\n                      target={this.addMember[index]}\n                      placement=\"top\"\n                      transition={false}\n                      rootClose={true}\n                      onHide={this.toggleDeleteUserPop.bind(\n                        this,\n                        index\n                      )}\n                    >\n                      <Popover id=\"popover-contained\">\n                        <Popover.Content>\n                          <div className=\"mini-profile\">\n                            <div className=\"mini-profile-member member-large\">\n                              <a><img height=\"50px\" width=\"50px\" src={user.linkAvatar ? `${domainServer + \"/\" + user.linkAvatar}`\n                                : `${defaultAva}`} alt=\"\" /></a>\n                            </div>\n                            <div className=\"mini-profile-info\">\n                              <h3 className=\"mini-profile-info-title\">\n                                <a className=\"mini-profile-info-title-link js-profile\">{user.name}</a>\n                              </h3>\n                              <p>{user.email}</p>\n                            </div>\n                          </div>\n                          <ul className=\"pop-over-list\">\n                            {\n                              this.props.role === roleName.LEADER ?\n                                <li>\n                                  <a onClick={() => this.removeUserCard(this.props.data.id, user.id, index)} className=\"js-remove-member\">Remove from Card</a>\n                                </li> : ''\n                            }\n                          </ul>\n                        </Popover.Content>\n                      </Popover>\n                    </Overlay>\n                  )\n                })\n              }\n              {users.map((user, index) => {\n                return (\n                  <a ref={(ref) =>\n                    (this.addMember[index] = ref)\n                  } onClick={this.toggleDeleteUserPop.bind(\n                    this,\n                    index\n                  )} key={index} className=\"btn btn-md btn-icon btn-light-facebook btn-pill mx-2\">\n                    <img style={{ height: '100%', borderRadius: '50%' }} width=\"100%\" alt=\"Pic\" src={user.linkAvatar ? `${domainServer + \"/\" + user.linkAvatar}`\n                      : `${defaultAva}`} />\n                  </a>\n                )\n              })}\n              {this.state.showPopupAddMember ? <ModalAddMember addMemberToCard={this.addMemberToCard} card_id={this.props.data.id} usersTeam={users} users={this.props.users}></ModalAddMember> : ''}\n            </div>\n          </div>\n\n          <div className=\"modal-cus__right\">\n            {\n              data_detail.interview ?\n                <Button onClick={this.props.toggleDetailInterview} variant=\"btn btn-success btn-interview\">{moment(data_detail.interview.timeInterview).format('dddd DD/MM/YYYY HH:mm')}</Button>\n                :\n                <Button variant=\"btn btn-success btn-interview\" onClick={() => this.props.toggleDetailCardAndInterview()}>Create Interview</Button>\n\n            }\n            <Button variant=\"primary btn-interview\" onClick={this.updateCard}>Save</Button>\n            <Button variant=\"light\" onClick={this.props.onHide}>Close</Button>\n          </div>\n        </Modal.Footer>\n      </Modal >\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {};\n};\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    role: state.auth.role,\n    update: (e) => ownProps.update(e),\n    addMemberToCard: (data) => ownProps.addMemberToCard(data),\n  };\n};\n\nexport default connect(mapStateToProps)(DetailCard);\n"]},"metadata":{},"sourceType":"module"}