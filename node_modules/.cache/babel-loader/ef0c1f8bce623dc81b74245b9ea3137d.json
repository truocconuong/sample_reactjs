{"ast":null,"code":"import { __extends } from \"tslib\";\nimport React from 'react';\n\nvar _a = React.createContext({\n  isOpen: true,\n  onExited: function () {}\n}),\n    Consumer = _a.Consumer,\n    Provider = _a.Provider; // checks if children exist and are truthy\n\n\nvar hasChildren = function (children) {\n  return React.Children.count(children) > 0 && React.Children.map(children, function (child) {\n    return !!child;\n  }).filter(Boolean).length > 0;\n};\n\nvar Transition =\n/** @class */\nfunction (_super) {\n  __extends(Transition, _super);\n\n  function Transition() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      currentChildren: undefined\n    };\n\n    _this.onExited = function () {\n      _this.setState({\n        currentChildren: _this.props.children\n      });\n    };\n\n    return _this;\n  }\n\n  Transition.getDerivedStateFromProps = function (props, state) {\n    var previousChildren = state.currentChildren;\n    var exiting = hasChildren(previousChildren) && !hasChildren(props.children);\n    return {\n      currentChildren: exiting ? previousChildren : props.children\n    };\n  };\n\n  Transition.prototype.render = function () {\n    return React.createElement(Provider, {\n      value: {\n        onExited: this.onExited,\n        isOpen: hasChildren(this.props.children)\n      }\n    }, this.state.currentChildren);\n  };\n\n  return Transition;\n}(React.Component);\n\nexport var ModalTransitionConsumer = Consumer;\nexport default Transition;","map":{"version":3,"sources":["../../../src/components/ModalTransition.tsx"],"names":[],"mappings":";AAAA,OAAO,KAAP,MAAkB,OAAlB;;AAcM,IAAA,EAAA,GAAyB,KAAK,CAAC,aAAN,CAAoB;AACjD,EAAA,MAAM,EAAE,IADyC;AAEjD,EAAA,QAAQ,EAAE,YAAA,CAAQ;AAF+B,CAApB,CAAzB;AAAA,IAAE,QAAQ,GAAA,EAAA,CAAA,QAAV;AAAA,IAAY,QAAQ,GAAA,EAAA,CAAA,QAApB,C,CAKN;;;AACA,IAAM,WAAW,GAAG,UAAC,QAAD,EAA0B;AAC5C,SAAA,KAAK,CAAC,QAAN,CAAe,KAAf,CAAqB,QAArB,IAAiC,CAAjC,IACA,KAAK,CAAC,QAAN,CAAe,GAAf,CAAmB,QAAnB,EAA6B,UAAA,KAAA,EAAK;AAAI,WAAA,CAAC,CAAD,KAAA;AAAO,GAA7C,EAA+C,MAA/C,CAAsD,OAAtD,EAA+D,MAA/D,GAAwE,CADxE;AACyE,CAF3E;;AAIA,IAAA,UAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAyB,EAAA,SAAA,CAAA,UAAA,EAAA,MAAA,CAAA;;AAAzB,WAAA,UAAA,GAAA;AAAA,QAAA,KAAA,GAAA,MAAA,KAAA,IAAA,IAAA,MAAA,CAAA,KAAA,CAAA,IAAA,EAAA,SAAA,CAAA,IAAA,IAAA;;AACE,IAAA,KAAA,CAAA,KAAA,GAAQ;AACN,MAAA,eAAe,EAAE;AADX,KAAR;;AAaA,IAAA,KAAA,CAAA,QAAA,GAAW,YAAA;AACT,MAAA,KAAI,CAAC,QAAL,CAAc;AACZ,QAAA,eAAe,EAAE,KAAI,CAAC,KAAL,CAAW;AADhB,OAAd;AAGD,KAJD;;;AAkBD;;AA3BQ,EAAA,UAAA,CAAA,wBAAA,GAAP,UAAgC,KAAhC,EAA8C,KAA9C,EAA0D;AAChD,QAAiB,gBAAgB,GAAK,KAAK,CAAV,eAAjC;AACR,QAAM,OAAO,GACX,WAAW,CAAC,gBAAD,CAAX,IAAiC,CAAC,WAAW,CAAC,KAAK,CAAC,QAAP,CAD/C;AAEA,WAAO;AACL,MAAA,eAAe,EAAE,OAAO,GAAG,gBAAH,GAAsB,KAAK,CAAC;AAD/C,KAAP;AAGD,GAPM;;AAeP,EAAA,UAAA,CAAA,SAAA,CAAA,MAAA,GAAA,YAAA;AACE,WACE,KAAA,CAAA,aAAA,CAAC,QAAD,EAAS;AACP,MAAA,KAAK,EAAE;AACL,QAAA,QAAQ,EAAE,KAAK,QADV;AAEL,QAAA,MAAM,EAAE,WAAW,CAAC,KAAK,KAAL,CAAW,QAAZ;AAFd;AADA,KAAT,EAMG,KAAK,KAAL,CAAW,eANd,CADF;AAUD,GAXD;;AAYF,SAAA,UAAA;AAAC,CAhCD,CAAyB,KAAK,CAAC,SAA/B,CAAA;;AAkCA,OAAO,IAAM,uBAAuB,GAAG,QAAhC;AAEP,eAAe,UAAf","sourceRoot":"","sourcesContent":["import { __extends } from \"tslib\";\nimport React from 'react';\nvar _a = React.createContext({\n    isOpen: true,\n    onExited: function () { },\n}), Consumer = _a.Consumer, Provider = _a.Provider;\n// checks if children exist and are truthy\nvar hasChildren = function (children) {\n    return React.Children.count(children) > 0 &&\n        React.Children.map(children, function (child) { return !!child; }).filter(Boolean).length > 0;\n};\nvar Transition = /** @class */ (function (_super) {\n    __extends(Transition, _super);\n    function Transition() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            currentChildren: undefined,\n        };\n        _this.onExited = function () {\n            _this.setState({\n                currentChildren: _this.props.children,\n            });\n        };\n        return _this;\n    }\n    Transition.getDerivedStateFromProps = function (props, state) {\n        var previousChildren = state.currentChildren;\n        var exiting = hasChildren(previousChildren) && !hasChildren(props.children);\n        return {\n            currentChildren: exiting ? previousChildren : props.children,\n        };\n    };\n    Transition.prototype.render = function () {\n        return (React.createElement(Provider, { value: {\n                onExited: this.onExited,\n                isOpen: hasChildren(this.props.children),\n            } }, this.state.currentChildren));\n    };\n    return Transition;\n}(React.Component));\nexport var ModalTransitionConsumer = Consumer;\nexport default Transition;\n//# sourceMappingURL=ModalTransition.js.map"]},"metadata":{},"sourceType":"module"}