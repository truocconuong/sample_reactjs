{"ast":null,"code":"var _jsxFileName = \"/Users/asknteach/projects/fetch/portal.fetch.tech.frontend/src/Components/Modal/Client/CreateClient.js\";\nimport React, { Component } from \"react\";\nimport Modal, { ModalTransition } from \"@atlaskit/modal-dialog\";\nimport { EditorState, convertToRaw } from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport draftToHtml from 'draftjs-to-html';\nimport htmlToDraft from 'html-to-draftjs';\nimport \"./../style.css\";\nimport Network from \"../../../Service/Network\";\nimport { rulesAddAndUpdateClient } from \"../../../utils/rule\";\nimport Validator from \"../../../utils/validator\";\nimport { ToastContainer, toast, Zoom } from \"react-toastify\";\nimport CustomToast from \"../../common/CustomToast\";\nconst api = new Network();\nexport default class CreateClient extends Component {\n  constructor(props) {\n    super(props);\n\n    this.setDefaultState = () => {\n      this.setState({\n        scrollBehaviour: \"inside\",\n        isOpen: true,\n        name: '',\n        website: '',\n        about: '',\n        editorAbout: EditorState.createEmpty()\n      });\n    };\n\n    this.onEditorStateChange = editorState => {\n      this.setState({\n        editorAbout: editorState,\n        about: draftToHtml(convertToRaw(editorState.getCurrentContent()))\n      });\n    };\n\n    this.state = {\n      scrollBehaviour: \"inside\",\n      isOpen: true,\n      name: '',\n      website: '',\n      about: '',\n      errors: {},\n      editorAbout: EditorState.createEmpty()\n    };\n    this.validator = new Validator(rulesAddAndUpdateClient);\n  }\n\n  handleInputChange(event) {\n    let name = event.target.name;\n    let value = event.target.value;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  async createClient(e) {\n    e.preventDefault();\n    const errors = this.validator.validate(this.state);\n    this.setState({\n      errors: errors\n    });\n\n    if (this.isEmpty(errors)) {\n      const {\n        name,\n        website,\n        about\n      } = this.state;\n      const data = {\n        name,\n        website,\n        about\n      };\n\n      try {\n        const response = await api.post(`/api/admin/client`, data);\n\n        if (response) {\n          toast( /*#__PURE__*/React.createElement(CustomToast, {\n            title: \"Create client successed !\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 17\n            }\n          }), {\n            position: toast.POSITION.BOTTOM_RIGHT,\n            autoClose: 3000,\n            className: \"toast_login\",\n            closeButton: false,\n            hideProgressBar: true,\n            newestOnTop: true,\n            closeOnClick: true,\n            rtl: false,\n            pauseOnFocusLoss: true,\n            draggable: true,\n            pauseOnHover: true,\n            transition: Zoom\n          });\n          this.props.onHide();\n          this.props.loadData();\n          this.setDefaultState();\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }\n\n  componentWillUnmount() {// console.log('chay zo day dc khong')\n  }\n\n  isEmpty(obj) {\n    // check obj empty\n    return Object.keys(obj).length === 0 && obj.constructor === Object;\n  }\n\n  render() {\n    let self = this;\n    const {\n      editorAbout\n    } = this.state;\n    const data = this.props.data;\n    const errors = this.state.errors;\n    return /*#__PURE__*/React.createElement(ModalTransition, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 7\n      }\n    }, this.props.show && /*#__PURE__*/React.createElement(Modal, {\n      onClose: self.props.onHide,\n      scrollBehavior: this.state.scrollBehaviour,\n      width: \"x-large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(ToastContainer, {\n      closeOnClick: true,\n      autoClose: 1000,\n      rtl: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form\",\n      onSubmit: this.createClient.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body card-body-new-client\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 21\n      }\n    }, \"Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.handleInputChange.bind(this),\n      name: \"name\",\n      className: errors.name ? \"form-control is-invalid\" : \"form-control\",\n      placeholder: \"Enter name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 21\n      }\n    }, \"Website:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.handleInputChange.bind(this),\n      name: \"website\",\n      className: errors.website ? \"form-control is-invalid\" : \"form-control\",\n      placeholder: \"Enter website\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }\n    }, \"About:\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Editor, {\n      editorState: editorAbout,\n      wrapperClassName: \"demo-wrapper\",\n      editorClassName: \"demo-editor\",\n      onEditorStateChange: this.onEditorStateChange,\n      editorStyle: {\n        border: \"1px solid #F1F1F1\",\n        height: \"250px\"\n      },\n      toolbar: {\n        colorPicker: {\n          colors: ['rgb(21, 188, 197)', 'rgb(33, 37, 41)', 'rgb(97,189,109)', 'rgb(26,188,156)', 'rgb(84,172,210)', 'rgb(44,130,201)', 'rgb(147,101,184)', 'rgb(71,85,119)', 'rgb(204,204,204)', 'rgb(65,168,95)', 'rgb(0,168,133)', 'rgb(61,142,185)', 'rgb(41,105,176)', 'rgb(85,57,130)', 'rgb(40,50,78)', 'rgb(0,0,0)', 'rgb(247,218,100)', 'rgb(251,160,38)', 'rgb(235,107,86)', 'rgb(226,80,65)', 'rgb(163,143,132)', 'rgb(239,239,239)', 'rgb(255,255,255)', 'rgb(250,197,28)', 'rgb(243,121,52)', 'rgb(209,72,65)', 'rgb(184,49,47)', 'rgb(124,112,107)', 'rgb(209,213,216)']\n        },\n        fontFamily: {\n          options: ['Muli', 'sans-serif', 'Arial', 'Georgia', 'Impact', 'Tahoma', 'Times New Roman', 'Verdana']\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 23\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-cus__right text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary mr-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 19\n      }\n    }, \"Save\"), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"reset\",\n      className: \"btn btn-secondary\",\n      onClick: () => {\n        self.props.onHide(false);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 19\n      }\n    }, \"Cancel\"))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/asknteach/projects/fetch/portal.fetch.tech.frontend/src/Components/Modal/Client/CreateClient.js"],"names":["React","Component","Modal","ModalTransition","EditorState","convertToRaw","Editor","draftToHtml","htmlToDraft","Network","rulesAddAndUpdateClient","Validator","ToastContainer","toast","Zoom","CustomToast","api","CreateClient","constructor","props","setDefaultState","setState","scrollBehaviour","isOpen","name","website","about","editorAbout","createEmpty","onEditorStateChange","editorState","getCurrentContent","state","errors","validator","handleInputChange","event","target","value","createClient","e","preventDefault","validate","isEmpty","data","response","post","position","POSITION","BOTTOM_RIGHT","autoClose","className","closeButton","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","transition","onHide","loadData","error","console","log","componentWillUnmount","obj","Object","keys","length","render","self","show","bind","border","height","colorPicker","colors","fontFamily","options"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Modal, { ModalTransition } from \"@atlaskit/modal-dialog\";\nimport { EditorState, convertToRaw } from 'draft-js';\nimport { Editor } from 'react-draft-wysiwyg';\nimport draftToHtml from 'draftjs-to-html';\nimport htmlToDraft from 'html-to-draftjs';\nimport \"./../style.css\";\nimport Network from \"../../../Service/Network\";\nimport { rulesAddAndUpdateClient } from \"../../../utils/rule\";\nimport Validator from \"../../../utils/validator\";\nimport { ToastContainer, toast, Zoom } from \"react-toastify\";\nimport CustomToast from \"../../common/CustomToast\";\n\nconst api = new Network();\n\n\n\nexport default class CreateClient extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      scrollBehaviour: \"inside\",\n      isOpen: true,\n      name: '',\n      website: '',\n      about: '',\n      errors: {},\n      editorAbout: EditorState.createEmpty(),\n    };\n    this.validator = new Validator(rulesAddAndUpdateClient);\n  }\n\n\n  setDefaultState = () => {\n    this.setState({\n      scrollBehaviour: \"inside\",\n      isOpen: true,\n      name: '',\n      website: '',\n      about: '',\n      editorAbout: EditorState.createEmpty(),\n    })\n  }\n  onEditorStateChange = (editorState) => {\n    this.setState({\n      editorAbout: editorState,\n      about: draftToHtml(convertToRaw(editorState.getCurrentContent()))\n    });\n  };\n\n  handleInputChange(event) {\n    let name = event.target.name;\n    let value = event.target.value;\n    this.setState({\n      [name]: value,\n    });\n  }\n\n\n  async createClient(e) {\n    e.preventDefault();\n\n    const errors = this.validator.validate(this.state);\n    this.setState({\n      errors: errors,\n    });\n    if (this.isEmpty(errors)) {\n      const { name, website, about } = this.state\n      const data = {\n        name, website, about\n      }\n      try {\n        const response = await api.post(`/api/admin/client`, data);\n        if (response) {\n          toast(<CustomToast title={\"Create client successed !\"} />, {\n            position: toast.POSITION.BOTTOM_RIGHT,\n            autoClose: 3000,\n            className: \"toast_login\",\n            closeButton: false,\n            hideProgressBar: true,\n            newestOnTop: true,\n            closeOnClick: true,\n            rtl: false,\n            pauseOnFocusLoss: true,\n            draggable: true,\n            pauseOnHover: true,\n            transition: Zoom,\n          });\n          this.props.onHide();\n          this.props.loadData();\n          this.setDefaultState();\n        }\n\n      } catch (error) {\n        console.log(error)\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    // console.log('chay zo day dc khong')\n  }\n  isEmpty(obj) {\n    // check obj empty\n    return Object.keys(obj).length === 0 && obj.constructor === Object;\n  }\n  render() {\n    let self = this;\n    const { editorAbout } = this.state;\n    const data = this.props.data;\n    const errors = this.state.errors;\n    return (\n      <ModalTransition>\n        {this.props.show && (\n          <Modal\n            onClose={self.props.onHide}\n            scrollBehavior={this.state.scrollBehaviour}\n            width={\"x-large\"}\n          >\n            <ToastContainer closeOnClick autoClose={1000} rtl={false} />\n            <form className=\"form\" onSubmit={this.createClient.bind(this)}>\n              <div className=\"card-body card-body-new-client\">\n                <div className=\"form-group row\">\n                  <div className=\"col-lg-6\">\n                    <label>Name:</label>\n                    <input type=\"text\" onChange={this.handleInputChange.bind(this)} name=\"name\" className={\n                      errors.name\n                        ? \"form-control is-invalid\"\n                        : \"form-control\"\n                    } placeholder=\"Enter name\" />\n                  </div>\n                  <div className=\"col-lg-6\">\n                    <label>Website:</label>\n                    <input type=\"text\" onChange={this.handleInputChange.bind(this)} name=\"website\" className={\n                      errors.website\n                        ? \"form-control is-invalid\"\n                        : \"form-control\"\n                    } placeholder=\"Enter website\" />\n                  </div>\n                </div>\n                <div className=\"form-group row\">\n                  <div className=\"col-lg-12\">\n                    <label>About:</label>\n                    <div>\n                      <Editor\n                        editorState={editorAbout}\n                        wrapperClassName=\"demo-wrapper\"\n                        editorClassName=\"demo-editor\"\n                        onEditorStateChange={this.onEditorStateChange}\n                        editorStyle={{ border: \"1px solid #F1F1F1\", height: \"250px\" }}\n                        toolbar={{\n                          colorPicker: { colors: ['rgb(21, 188, 197)', 'rgb(33, 37, 41)' , 'rgb(97,189,109)', 'rgb(26,188,156)', 'rgb(84,172,210)', 'rgb(44,130,201)',\n                          'rgb(147,101,184)', 'rgb(71,85,119)', 'rgb(204,204,204)', 'rgb(65,168,95)', 'rgb(0,168,133)',\n                          'rgb(61,142,185)', 'rgb(41,105,176)', 'rgb(85,57,130)', 'rgb(40,50,78)', 'rgb(0,0,0)',\n                          'rgb(247,218,100)', 'rgb(251,160,38)', 'rgb(235,107,86)', 'rgb(226,80,65)', 'rgb(163,143,132)',\n                          'rgb(239,239,239)', 'rgb(255,255,255)', 'rgb(250,197,28)', 'rgb(243,121,52)', 'rgb(209,72,65)',\n                          'rgb(184,49,47)', 'rgb(124,112,107)', 'rgb(209,213,216)'], },\n                          fontFamily: {\n                            options: ['Muli', 'sans-serif', 'Arial', 'Georgia', 'Impact', 'Tahoma', 'Times New Roman', 'Verdana'],\n                          }\n                        }}\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"modal-cus__right text-right\">\n                  <button type=\"submit\" className=\"btn btn-primary mr-2\">Save</button>\n                  <button type=\"reset\" className=\"btn btn-secondary\" onClick={() => {\n                    self.props.onHide(false)\n                  }}>Cancel</button>\n                </div>\n              </div>\n\n            </form>\n          </Modal>\n        )}\n      </ModalTransition>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}