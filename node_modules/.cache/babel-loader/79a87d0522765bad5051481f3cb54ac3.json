{"ast":null,"code":"var _jsxFileName = \"/Users/asknteach/projects/fetch/portal.fetch.tech.frontend/src/Components/Modal/Client/DetailClient.js\";\nimport React, { Component } from \"react\";\nimport Modal, { ModalTransition } from \"@atlaskit/modal-dialog\";\nimport { EditorState, convertToRaw, convertFromHTML, ContentState } from \"draft-js\";\nimport { Editor } from \"react-draft-wysiwyg\";\nimport draftToHtml from \"draftjs-to-html\";\nimport htmlToDraft from \"html-to-draftjs\";\nimport \"./../style.css\";\nimport Network from \"../../../Service/Network\";\nconst api = new Network();\nexport default class DetailClient extends Component {\n  constructor(props) {\n    super(props);\n\n    this.setDefaultState = () => {\n      this.setState({\n        scrollBehaviour: \"inside\",\n        isOpen: true,\n        name: \"\",\n        website: \"\",\n        about: \"\",\n        editorAbout: EditorState.createEmpty()\n      });\n    };\n\n    this.onEditorStateChange = editorState => {\n      this.setState({\n        editorAbout: editorState,\n        about: draftToHtml(convertToRaw(editorState.getCurrentContent()))\n      });\n    };\n\n    this.state = {\n      scrollBehaviour: \"inside\",\n      isOpen: true,\n      name: \"\",\n      website: \"\",\n      about: \"\",\n      editorAbout: EditorState.createEmpty()\n    };\n    this.renderFooter = this.renderFooter.bind(this);\n  }\n\n  handleInputChange(event) {\n    let name = event.target.name;\n    let value = event.target.value;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  async createClient(e) {\n    e.preventDefault();\n    const {\n      name,\n      website,\n      about\n    } = this.state;\n    const data = {\n      name,\n      website,\n      about\n    };\n\n    try {\n      const response = await api.post(`/api/admin/client`, data);\n\n      if (response) {\n        this.props.onHide();\n        this.props.loadData();\n        this.setDefaultState();\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  renderFooter(self) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrap_footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-cus__right text-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-secondary\",\n      onClick: self.props.onHide,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }\n    }, \"Cancel\")));\n  }\n\n  componentWillUnmount() {// console.log('chay zo day dc khong')\n  }\n\n  render() {\n    let self = this;\n    const client = this.props.data;\n    let dataEditor = \"\";\n\n    if (this.props.show) {\n      const blocksFromHTML = convertFromHTML(client.about);\n      const contentState = ContentState.createFromBlockArray(blocksFromHTML.contentBlocks, blocksFromHTML.entityMap);\n      dataEditor = EditorState.createWithContent(contentState);\n    }\n\n    return /*#__PURE__*/React.createElement(ModalTransition, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 7\n      }\n    }, this.props.show && /*#__PURE__*/React.createElement(Modal, {\n      onClose: self.props.onHide,\n      components: {\n        Footer: this.renderFooter.bind(self, self)\n      },\n      scrollBehavior: this.state.scrollBehaviour,\n      width: \"x-large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form\",\n      onSubmit: this.createClient.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 21\n      }\n    }, \"Full Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.handleInputChange.bind(this),\n      readOnly: true,\n      value: client.name,\n      name: \"name\",\n      className: \"form-control\",\n      placeholder: \"Enter full name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 21\n      }\n    }, \"Website:\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.handleInputChange.bind(this),\n      readOnly: true,\n      value: client.website,\n      name: \"website\",\n      className: \"form-control\",\n      placeholder: \"Enter website\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-lg-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }\n    }, \"About:\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Editor, {\n      editorState: dataEditor,\n      readOnly: true,\n      wrapperClassName: \"demo-wrapper\",\n      editorClassName: \"demo-editor\",\n      onEditorStateChange: this.onEditorStateChange,\n      editorStyle: {\n        border: \"1px solid #F1F1F1\",\n        height: \"250px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 23\n      }\n    }))))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/asknteach/projects/fetch/portal.fetch.tech.frontend/src/Components/Modal/Client/DetailClient.js"],"names":["React","Component","Modal","ModalTransition","EditorState","convertToRaw","convertFromHTML","ContentState","Editor","draftToHtml","htmlToDraft","Network","api","DetailClient","constructor","props","setDefaultState","setState","scrollBehaviour","isOpen","name","website","about","editorAbout","createEmpty","onEditorStateChange","editorState","getCurrentContent","state","renderFooter","bind","handleInputChange","event","target","value","createClient","e","preventDefault","data","response","post","onHide","loadData","error","console","log","self","componentWillUnmount","render","client","dataEditor","show","blocksFromHTML","contentState","createFromBlockArray","contentBlocks","entityMap","createWithContent","Footer","border","height"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Modal, { ModalTransition } from \"@atlaskit/modal-dialog\";\nimport {\n  EditorState,\n  convertToRaw,\n  convertFromHTML,\n  ContentState,\n} from \"draft-js\";\nimport { Editor } from \"react-draft-wysiwyg\";\nimport draftToHtml from \"draftjs-to-html\";\nimport htmlToDraft from \"html-to-draftjs\";\nimport \"./../style.css\";\nimport Network from \"../../../Service/Network\";\n\nconst api = new Network();\n\nexport default class DetailClient extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      scrollBehaviour: \"inside\",\n      isOpen: true,\n      name: \"\",\n      website: \"\",\n      about: \"\",\n      editorAbout: EditorState.createEmpty(),\n    };\n    this.renderFooter = this.renderFooter.bind(this);\n  }\n\n  setDefaultState = () => {\n    this.setState({\n      scrollBehaviour: \"inside\",\n      isOpen: true,\n      name: \"\",\n      website: \"\",\n      about: \"\",\n      editorAbout: EditorState.createEmpty(),\n    });\n  };\n  onEditorStateChange = (editorState) => {\n    this.setState({\n      editorAbout: editorState,\n      about: draftToHtml(convertToRaw(editorState.getCurrentContent())),\n    });\n  };\n\n  handleInputChange(event) {\n    let name = event.target.name;\n    let value = event.target.value;\n    this.setState({\n      [name]: value,\n    });\n  }\n\n  async createClient(e) {\n    e.preventDefault();\n    const { name, website, about } = this.state;\n    const data = {\n      name,\n      website,\n      about,\n    };\n\n    try {\n      const response = await api.post(`/api/admin/client`, data);\n      if (response) {\n        this.props.onHide();\n        this.props.loadData();\n        this.setDefaultState();\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n  renderFooter(self) {\n    return (\n      <div className=\"wrap_footer\">\n        <div className=\"modal-cus__right text-right\">\n          <button className=\"btn btn-secondary\" onClick={self.props.onHide}>\n            Cancel\n          </button>\n        </div>\n      </div>\n    );\n  }\n  componentWillUnmount() {\n    // console.log('chay zo day dc khong')\n  }\n\n  render() {\n    let self = this;\n\n    const client = this.props.data;\n    let dataEditor = \"\";\n    if (this.props.show) {\n      const blocksFromHTML = convertFromHTML(client.about);\n      const contentState = ContentState.createFromBlockArray(\n        blocksFromHTML.contentBlocks,\n        blocksFromHTML.entityMap\n      );\n\n      dataEditor = EditorState.createWithContent(contentState);\n    }\n    return (\n      <ModalTransition>\n        {this.props.show && (\n          <Modal\n            onClose={self.props.onHide}\n            components={{\n              Footer: this.renderFooter.bind(self, self),\n            }}\n            scrollBehavior={this.state.scrollBehaviour}\n            width={\"x-large\"}\n          >\n            <form className=\"form\" onSubmit={this.createClient.bind(this)}>\n              <div className=\"card-body\">\n                <div className=\"form-group row\">\n                  <div className=\"col-lg-6\">\n                    <label>Full Name:</label>\n                    <input\n                      type=\"text\"\n                      onChange={this.handleInputChange.bind(this)}\n                      readOnly\n                      value={client.name}\n                      name=\"name\"\n                      className=\"form-control\"\n                      placeholder=\"Enter full name\"\n                    />\n                  </div>\n                  <div className=\"col-lg-6\">\n                    <label>Website:</label>\n                    <input\n                      type=\"text\"\n                      onChange={this.handleInputChange.bind(this)}\n                      readOnly\n                      value={client.website}\n                      name=\"website\"\n                      className=\"form-control\"\n                      placeholder=\"Enter website\"\n                    />\n                  </div>\n                </div>\n                <div className=\"form-group row\">\n                  <div className=\"col-lg-12\">\n                    <label>About:</label>\n                    <div>\n                      <Editor\n                        editorState={dataEditor}\n                        readOnly\n                        wrapperClassName=\"demo-wrapper\"\n                        editorClassName=\"demo-editor\"\n                        onEditorStateChange={this.onEditorStateChange}\n                        editorStyle={{\n                          border: \"1px solid #F1F1F1\",\n                          height: \"250px\",\n                        }}\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </form>\n          </Modal>\n        )}\n      </ModalTransition>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}